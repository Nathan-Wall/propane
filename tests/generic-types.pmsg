import { Message } from '@propane/runtime';

/**
 * Test file for generic message types.
 */

// Basic item type for testing
export type Item = Message<{
  '1:id': number;
  '2:name': string;
}>;

// Simple generic container with single type parameter
export type Container<T extends Message> = Message<{
  '1:inner': T;
}>;

// Generic with optional field
export type Optional<T extends Message> = Message<{
  '1:value'?: T;
}>;

// Multiple type parameters
export type Pair<T extends Message, U extends Message> = Message<{
  '1:first': T;
  '2:second': U;
}>;

// Non-generic type that can contain generic instances
export type Parent = Message<{
  '1:name': string;
}>;

// Generic with both generic and non-generic fields - tests full validation in deserialize
export type Timestamped<T extends Message> = Message<{
  '1:inner': T;
  '2:timestamp': Date;
  '3:label': string;
}>;

// Generic with non-message constraint
export type Sized<P extends number> = Message<{
  '1:size': P;
}>;
